# ì˜ì–´ ë¬¸ì¥ ì“°ê¸° ì•± (ESL Writing App)

ì´ˆë“±í•™ìƒì„ ìœ„í•œ ì˜ì–´ ë¬¸ì¥ ì“°ê¸° í•™ìŠµ ì•±ì…ë‹ˆë‹¤. AI ê¸°ë°˜ í”¼ë“œë°±ê³¼ Placement Testë¥¼ í†µí•´ ë§ì¶¤í˜• í•™ìŠµ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

- **ê²ŒìŠ¤íŠ¸ ëª¨ë“œ**: ìµëª… ê³„ì •ìœ¼ë¡œ ì¦‰ì‹œ ì‹œì‘ ê°€ëŠ¥
- **Placement Test**: GPT-4o ê¸°ë°˜ ì‹¤ë ¥ í‰ê°€ ë° ë ˆë²¨ ì¶”ì²œ (1-10)
  - ê¸°ì¡´ ë ˆë²¨ì´ ìˆìœ¼ë©´ ìë™ ìŠ¤í‚µ (ì¬ì‹œë„ ì˜µì…˜ ì œê³µ)
- **ë ˆë²¨ë³„ ë§ì¶¤ í•™ìŠµ**:
  - **ë ˆë²¨ 1-2**: Drag & Drop ë¯¸ì…˜ (í´ë¦­ ê¸°ë°˜ ë‹¨ì–´ ì„ íƒ)
  - **ë ˆë²¨ 3-6**: í‚¤ë³´ë“œ ì…ë ¥ ë°©ì‹
  - ì´ˆë“± ì €í•™ë…„/ê³ í•™ë…„ ìˆ˜ì¤€ì— ë§ëŠ” ë¬¸ì¥ ìƒì„±
- **AI í”¼ë“œë°±**: ì˜ì–´ ë¬¸ì¥ ì‘ì„± í›„ ì¦‰ì‹œ AI í‰ê°€ ë° êµì •
  - íŒíŠ¸ ì‹œìŠ¤í…œ: ì •ë‹µ/ì˜¤ë‹µ ëª¨ë‘ ë‹¤ìŒ ë¬¸ì¥ í•™ìŠµ íŒíŠ¸ ì œê³µ
  - ì •ë‹µ ì‹œ ìë™ìœ¼ë¡œ ë‹¤ìŒ ë¬¸ì¥ ìƒì„± (2ì´ˆ í›„)
- **3ì¤‘ ì•ˆì „ í•„í„°ë§**: í´ë¼ì´ì–¸íŠ¸ ê¸ˆì¹™ì–´ í•„í„° â†’ OpenAI Moderation â†’ AI Persona ê²€ì¦
- **ì—ë„ˆì§€ ì‹œìŠ¤í…œ**: í•™ìŠµ ì‹œ ì—ë„ˆì§€ ê°ì†Œ (ë¯¸ì…˜ ìƒì„± 1 ì—ë„ˆì§€ ì†Œëª¨)
- **í•™ìŠµ ê¸°ë¡**: ëª¨ë“  ì‘ì„± ë‚´ìš©ê³¼ í”¼ë“œë°±ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Next.js 16.1.1** (App Router)
- **React 19.2.3**
- **TypeScript 5.3.3**
- **Tailwind CSS 3.4.19**
- **next-pwa 5.6.0** (PWA ì§€ì›)

### Backend
- **Next.js API Routes** (Serverless Functions)
- **Supabase** (PostgreSQL + Authentication + Realtime)
- **OpenAI GPT-4o** (AI í”¼ë“œë°± ë° Placement Test í‰ê°€)
- **Zod 4.3.5** (ìŠ¤í‚¤ë§ˆ ê²€ì¦)

### Testing
- **Vitest 1.0.4** (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)
- **Playwright 1.57.0** (E2E í…ŒìŠ¤íŠ¸)
- **Testing Library** (React ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸)

### Infrastructure
- **Vercel** (ë°°í¬ ë° í˜¸ìŠ¤íŒ…)
- **Supabase** (Database, Auth, Storage)

### ê¸°íƒ€
- **react-hot-toast** (ì•Œë¦¼)
- **date-fns** (ë‚ ì§œ ì²˜ë¦¬)
- **recharts** (ì°¨íŠ¸/í†µê³„)

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
english-write-study-app/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ api/                      # API Routes
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â””â”€â”€ guest/            # ê²ŒìŠ¤íŠ¸ ì¸ì¦
â”‚   â”‚   â”œâ”€â”€ placement/
â”‚   â”‚   â”‚   â”œâ”€â”€ questions/        # Placement Test ë¬¸í•­ ìƒì„±
â”‚   â”‚   â”‚   â””â”€â”€ submit/           # Placement Test ê²°ê³¼ í‰ê°€
â”‚   â”‚   â””â”€â”€ study/
â”‚   â”‚       â”œâ”€â”€ generate-mission/         # í•œê¸€ ë¬¸ì¥ ìƒì„± (ë ˆë²¨ 3-6)
â”‚   â”‚       â”œâ”€â”€ generate-drag-drop-mission/  # Drag & Drop ë¯¸ì…˜ ìƒì„± (ë ˆë²¨ 1-2)
â”‚   â”‚       â”œâ”€â”€ submit/                  # ì˜ì–´ ë¬¸ì¥ ì œì¶œ ë° í”¼ë“œë°±
â”‚   â”‚       â””â”€â”€ drag-drop-submit/        # Drag & Drop ë¯¸ì…˜ ì œì¶œ
â”‚   â”œâ”€â”€ onboarding/               # ì˜¨ë³´ë”© í˜ì´ì§€ (í•™ë…„ ì„ íƒ)
â”‚   â”œâ”€â”€ placement/                # Placement Test í˜ì´ì§€
â”‚   â”œâ”€â”€ writing/                  # ì˜ì–´ ë¬¸ì¥ ì“°ê¸° í˜ì´ì§€
â”‚   â”œâ”€â”€ layout.tsx                # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ page.tsx                  # í™ˆ í˜ì´ì§€
â”‚   â””â”€â”€ globals.css               # ì „ì—­ ìŠ¤íƒ€ì¼
â”œâ”€â”€ lib/                          # ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”œâ”€â”€ client.ts             # í´ë¼ì´ì–¸íŠ¸ Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ server.ts              # ì„œë²„ Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ middleware.ts         # ë¯¸ë“¤ì›¨ì–´ Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ utils.ts              # Supabase ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ openai/
â”‚   â”‚   â”œâ”€â”€ client.ts             # OpenAI í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
â”‚   â”‚   â””â”€â”€ moderation.ts         # OpenAI Moderation API
â”‚   â””â”€â”€ safety/
â”‚       â””â”€â”€ profanity-filter.ts   # í´ë¼ì´ì–¸íŠ¸ ê¸ˆì¹™ì–´ í•„í„°
â”œâ”€â”€ types/                        # TypeScript íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ database.ts               # Supabase ë°ì´í„°ë² ì´ìŠ¤ íƒ€ì…
â”‚   â”œâ”€â”€ user.ts                   # ì‚¬ìš©ì ê´€ë ¨ íƒ€ì…
â”‚   â”œâ”€â”€ writing.ts                # ì‘ì„± ê´€ë ¨ íƒ€ì…
â”‚   â”œâ”€â”€ feedback.ts               # í”¼ë“œë°± ê´€ë ¨ íƒ€ì…
â”‚   â”œâ”€â”€ gamification.ts           # ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜ íƒ€ì…
â”‚   â””â”€â”€ payment.ts                # ê²°ì œ ê´€ë ¨ íƒ€ì…
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/               # ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚       â”œâ”€â”€ 001_initial_schema.sql
â”‚       â”œâ”€â”€ 002_rls_policies.sql
â”‚       â””â”€â”€ 003_add_placement_level.sql
â”œâ”€â”€ components/                   # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ DragDropMission.tsx      # Drag & Drop ë¯¸ì…˜ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ Header.tsx               # í—¤ë” ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ ...
â”œâ”€â”€ services/                     # ì„œë¹„ìŠ¤ ë ˆì´ì–´ (ë ˆê±°ì‹œ)
â”œâ”€â”€ e2e/                          # E2E í…ŒìŠ¤íŠ¸
â”œâ”€â”€ scripts/                      # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ jira-logger.js            # Jira ìë™ ë¡œê¹…
â”‚   â””â”€â”€ log-work-summary.mjs      # ì‘ì—… ìš”ì•½ ë¡œê¹…
â”œâ”€â”€ docs/                         # ë¬¸ì„œ
â”‚   â”œâ”€â”€ spec.md                   # ê¸°íšì„œ
â”‚   â”œâ”€â”€ 02_schema.sql             # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ 03_design.md              # ì‹œìŠ¤í…œ ì„¤ê³„ì„œ
â”œâ”€â”€ next.config.js                # Next.js ì„¤ì •
â”œâ”€â”€ tsconfig.json                 # TypeScript ì„¤ì •
â”œâ”€â”€ tailwind.config.js            # Tailwind CSS ì„¤ì •
â””â”€â”€ package.json                  # ì˜ì¡´ì„± ê´€ë¦¬
```

## ğŸ—„ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ì£¼ìš” í…Œì´ë¸”

- **profiles**: ì‚¬ìš©ì í”„ë¡œí•„ ë° ì¬í™” (ì—ë„ˆì§€, ì ¬, ë ˆë²¨ ë“±)
- **study_logs**: í•™ìŠµ ê¸°ë¡ (ë¯¸ì…˜, ì‚¬ìš©ì ì…ë ¥, AI í”¼ë“œë°±)
- **shop_items**: ìƒì  ì•„ì´í…œ
- **user_inventory**: ì‚¬ìš©ì ì¸ë²¤í† ë¦¬

### ë³´ì•ˆ

- **Row Level Security (RLS)**: ëª¨ë“  í…Œì´ë¸”ì— RLS ì •ì±… ì ìš©
- **ìµëª… ì¸ì¦**: ê²ŒìŠ¤íŠ¸ ëª¨ë“œ ì§€ì›

## ğŸš¦ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Node.js 18+ 
- npm ë˜ëŠ” yarn
- Supabase ê³„ì •
- OpenAI API í‚¤

### ì„¤ì¹˜

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/iamyooon/english-write-study-app.git
cd english-write-study-app

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env.local
# .env.local íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.local` íŒŒì¼ì— ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì„¸ìš”:

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# OpenAI
OPENAI_API_KEY=your-openai-api-key

# Next.js
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

ìì„¸í•œ ì„¤ì • ë°©ë²•ì€ [ENV_SETUP_GUIDE.md](./ENV_SETUP_GUIDE.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

### ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
```

ê°œë°œ ì„œë²„ê°€ http://localhost:3000 ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

### ë¹Œë“œ

```bash
npm run build
npm start
```

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm test

# Watch ëª¨ë“œ
npm run test:watch

# ì»¤ë²„ë¦¬ì§€ í¬í•¨
npm run test:coverage
```

### E2E í…ŒìŠ¤íŠ¸

```bash
# E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test:e2e

# UI ëª¨ë“œë¡œ ì‹¤í–‰
npm run test:e2e:ui
```

### ì»¤ë°‹ ì „ ìë™ ê²€ì‚¬

```bash
# íƒ€ì… ì²´í¬ + ë¦°íŠ¸ + í…ŒìŠ¤íŠ¸ + ë¬¸ì„œ ì—…ë°ì´íŠ¸
npm run pre-commit

# ë¬¸ì„œë§Œ ì—…ë°ì´íŠ¸
npm run update-docs
```

**ì°¸ê³ **: ì»¤ë°‹ ì „ì— `npm run pre-commit`ì„ ì‹¤í–‰í•˜ë©´ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê³  ë¬¸ì„œë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

## ğŸ“š ì£¼ìš” ë¬¸ì„œ

- [ì‹œìŠ¤í…œ ì„¤ê³„ì„œ](./docs/03_design.md) - ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë° ì„¤ê³„
- [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](./docs/02_schema.sql) - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì •ì˜
- [Supabase ì„¤ì • ê°€ì´ë“œ](./SUPABASE_SETUP.md) - Supabase í”„ë¡œì íŠ¸ ì„¤ì •
- [Placement Test ì„¤ì •](./PLACEMENT_TEST_SETUP.md) - Placement Test ì‹œìŠ¤í…œ ì„¤ì •
- [êµ¬í˜„ ìƒíƒœ ì²´í¬ë¦¬ìŠ¤íŠ¸](./IMPLEMENTATION_STATUS.md) - êµ¬í˜„ ì™„ë£Œ/ë¯¸ì™„ë£Œ ê¸°ëŠ¥
- [ë³´ì•ˆ ê°€ì´ë“œ](./SECURITY.md) - ë³´ì•ˆ ì„¤ì • ë° API í‚¤ ê´€ë¦¬

## ğŸ” ë³´ì•ˆ

- **Row Level Security (RLS)**: Supabase í…Œì´ë¸”ì— RLS ì •ì±… ì ìš©
- **3ì¤‘ ì•ˆì „ í•„í„°ë§**: í´ë¼ì´ì–¸íŠ¸ â†’ OpenAI Moderation â†’ AI Persona ê²€ì¦
- **í™˜ê²½ ë³€ìˆ˜**: ë¯¼ê°í•œ ì •ë³´ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬
- **ìµëª… ì¸ì¦**: ê²ŒìŠ¤íŠ¸ ëª¨ë“œ ì§€ì›

ìì„¸í•œ ë‚´ìš©ì€ [SECURITY.md](./SECURITY.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

## ğŸš¢ ë°°í¬

ì´ í”„ë¡œì íŠ¸ëŠ” [Vercel](https://vercel.com)ì— ë°°í¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### Vercel ë°°í¬

1. Vercel ëŒ€ì‹œë³´ë“œì—ì„œ í”„ë¡œì íŠ¸ ì—°ê²°
2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
3. ìë™ ë°°í¬ í™œì„±í™”

ìì„¸í•œ ë°°í¬ ë°©ë²•ì€ [DEPLOY_STEPS.md](./DEPLOY_STEPS.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

## ğŸ“ ë¼ì´ì„ ìŠ¤

ISC

## ğŸ‘¥ ê¸°ì—¬

ì´ìŠˆ ë° Pull Requestë¥¼ í™˜ì˜í•©ë‹ˆë‹¤!

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.

---

**ì°¸ê³ **: ì´ í”„ë¡œì íŠ¸ëŠ” ì´ˆë“±í•™ìƒì„ ëŒ€ìƒìœ¼ë¡œ í•œ ì˜ì–´ í•™ìŠµ ì•±ì…ë‹ˆë‹¤. ëª¨ë“  ì‚¬ìš©ì ì…ë ¥ì€ ì•ˆì „ í•„í„°ë§ì„ ê±°ì¹©ë‹ˆë‹¤.
